(()=>{"use strict";var e={20:(e,t,o)=>{var a=o(609),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var a,l={},c=null,d=null;for(a in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!n.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:i,type:e,key:c,ref:d,props:l,_owner:s.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,o),l.exports}const a=window.wc.blocksCheckout,i=window.wp.element,l=(0,i.forwardRef)(function({icon:e,size:t=24,...o},a){return(0,i.cloneElement)(e,{width:t,height:t,...o,ref:a})});var r=o(609);const s=window.wp.primitives,n=(0,r.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(s.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),c=window.wp.i18n,d=window.wc.blocksComponents,u=window.wp.data,p=window.wc.wcBlocksData;function f(e){var t,o,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(o=f(e[t]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}const m=function(){for(var e,t,o=0,a="",i=arguments.length;o<i;o++)(e=arguments[o])&&(t=f(e))&&(a&&(a+=" "),a+=t);return a};var h=o(848);const b=e=>{const{onChange:t,options:o,label:a,value:r="",className:s,size:f,errorId:b,required:k,externalValidation:v,errorMessage:g=(0,c.__)("Please select a valid option","checkout-fields-for-blocks"),help:w,placeholder:y,...x}=e,_=(0,i.useCallback)(e=>{t(e.target.value)},[t]),E=(0,i.useMemo)(()=>({value:"",label:null!=y?y:"",disabled:!!k}),[y,k]),N=(0,i.useId)(),R=x.id||`select-${N}`,S=b||R,j=(0,i.useMemo)(()=>k&&r?o:[E].concat(o),[k,r,E,o]),{setValidationErrors:L,clearValidationError:I}=(0,u.useDispatch)(p.VALIDATION_STORE_KEY),{error:V,validationErrorId:q}=(0,u.useSelect)(e=>{const t=e(p.VALIDATION_STORE_KEY);return{error:t.getValidationError(S),validationErrorId:t.getValidationErrorId(S)}}),O=V?.message&&!V?.hidden;return(0,h.jsxs)("div",{className:m(s,{"has-error":O}),children:[(0,h.jsx)("div",{className:"wc-blocks-components-select",children:(0,h.jsxs)("div",{className:"wc-blocks-components-select__container",children:[(0,h.jsx)("label",{htmlFor:R,className:"wc-blocks-components-select__label",children:a}),(0,h.jsx)("select",{className:"wc-blocks-components-select__select",id:R,size:void 0!==f?f:1,onChange:_,value:r,"aria-invalid":O,"aria-errormessage":q,...x,children:j.map(e=>(0,h.jsx)("option",{value:e.value,"data-alternate-values":`[${e.label}]`,disabled:void 0!==e.disabled&&e.disabled,children:e.label},e.value))}),(0,h.jsx)(l,{className:"wc-blocks-components-select__expand",icon:n})]})}),w&&(0,h.jsx)("p",{className:"help-text",children:w}),(0,h.jsx)(d.ValidationInputError,{propertyName:S})]})},k=window.wp.hooks,v=(0,i.createContext)({validationSettings:{},isRequired:!1,hasRequiredLogic:!1,isVisible:!0}),g=({children:e})=>(0,h.jsx)(h.Fragment,{children:e}),w=()=>({isVisible:!0,isRequired:!1,hasRequiredLogic:!1}),y=({conditionalLogic:e,validationSettingsRaw:t,children:o,fieldName:a,setExtensionData:l,metaName:r})=>{const s=(0,k.applyFilters)("checkoutFields.hooks.useConditionalLogic",w),n=(0,i.useMemo)(()=>{try{return JSON.parse(t||"{}")}catch(e){return console.warn("Invalid validation settings:",t),{}}},[t]),c=(e=>(0,i.useMemo)(()=>{if(!e)return null;if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.warn("Failed to parse conditional logic:",e),null}return e},[e]))(e),{isVisible:d,isRequired:u,hasRequiredLogic:p}=s(c,a),f=(0,i.useMemo)(()=>({validationSettings:n,isRequired:u,hasRequiredLogic:p,isVisible:d}),[n,u,p,d]);return(0,i.useEffect)(()=>{d||l("checkout-fields-for-blocks",r,"")},[d,l,r]),d?(0,h.jsx)(v.Provider,{value:f,children:o}):null};function x({conditionalLogic:e,validationSettingsRaw:t,children:o,fieldName:a,setExtensionData:i,metaName:l}){const r=(0,k.applyFilters)("checkoutFields.components.logicContextProvider",g);return(0,h.jsx)(r,{children:(0,h.jsx)(y,{conditionalLogic:e,validationSettingsRaw:t,fieldName:a,setExtensionData:i,metaName:l,children:o})})}const _=window.wp.url,E={required:{validate:e=>e&&""!==e.trim()?null:(0,c.__)("This field is required.","checkout-fields-for-blocks")},email:{validate:e=>(0,_.isEmail)(e)?null:(0,c.__)("Please enter a valid email address.","checkout-fields-for-blocks")},phone:{validate:e=>e&&!/^\+?[\d\s()-]{10,}$/.test(e)?(0,c.__)("Please enter a valid phone number.","checkout-fields-for-blocks"):null},url:{validate:e=>{try{return new URL(e),null}catch{return(0,c.__)("Please enter a valid URL.","checkout-fields-for-blocks")}}},minLength:{validate:(e,t)=>e.length>0&&e.length<t.value?(0,c.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,c.__)("This field must be at least %d characters long.","checkout-fields-for-blocks"),t.value):null},maxLength:{validate:(e,t)=>e.length>0&&e.length>t.value?(0,c.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,c.__)("This field must not exceed %d characters.","checkout-fields-for-blocks"),t.value):null},pattern:{validate:(e,t)=>new RegExp(t.value).test(e)?null:(0,c.__)("This field does not match the required pattern.","checkout-fields-for-blocks")}},N=({className:e,label:t,helpText:o,fieldId:a,fieldName:l,defaultValue:r,metaName:s,checkoutExtensionData:n,options:c,placeholder:d})=>{const{setExtensionData:f}=n,[m,k]=(0,i.useState)(r||""),{validateField:g,validationErrorId:w,isRequired:y}=((e,t)=>{const{validationSettings:o,isRequired:a,hasRequiredLogic:l,isVisible:r}=(0,i.useContext)(v),[s,n]=(0,i.useState)(!1),{setValidationErrors:c,clearValidationError:d}=(0,u.useDispatch)(p.VALIDATION_STORE_KEY),f=`${t}-${e}`;return{validateField:(0,i.useCallback)((e,t=!1)=>{const i={...o};l&&(i.required={enabled:a});const r=((e,t)=>{for(const[o,a]of Object.entries(t))if(a.enabled&&E[o]){const t=E[o].validate(e,a);if(t)return t}return null})(e,i);return r?(c({[f]:{message:r,hidden:!t}}),!1):(d(f),!0)},[o,a,l,f,d,c]),handleUserInteraction:(0,i.useCallback)(()=>{s||n(!0)},[s]),validationErrorId:f,isRequired:a,isVisible:r}})(a,s),x=(0,i.useMemo)(()=>JSON.parse(c||"[]"),[c]),_=(0,i.useCallback)(e=>{k(e),g(e)},[g]);return(0,i.useEffect)(()=>{f("checkout-fields-for-blocks",s,m)},[f,s,m]),(0,i.useEffect)(()=>{g(m,!1)},[g,m]),(0,h.jsx)(b,{id:a,name:l,label:t,placeholder:d,value:m,onChange:_,options:x,readOnly:!1,required:y,help:o,errorId:w,externalValidation:!0,className:e,"data-field-name":s})},R=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"checkout-fields-for-blocks/select-block","version":"0.1.0","title":"Select","category":"checkout-fields-for-blocks","description":"","supports":{"html":true},"keywords":["checkout"],"parent":["woocommerce/checkout-totals-block","woocommerce/checkout-fields-block","woocommerce/checkout-contact-information-block","woocommerce/checkout-shipping-address-block","woocommerce/checkout-billing-address-block","woocommerce/checkout-shipping-method-block","woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block"],"attributes":{"fieldId":{"type":"string","default":""},"fieldName":{"type":"string","default":""},"metaName":{"type":"string","default":""},"isMetaNameLocked":{"type":"boolean","default":false},"parentBlock":{"type":"string","default":""},"label":{"type":"string","default":""},"placeholder":{"type":"string","default":""},"defaultValue":{"type":"array","default":""},"helpText":{"type":"string","default":""},"options":{"type":"array","default":[],"items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}},"required":["label","value"]}},"validationSettings":{"type":"object","default":{"required":{"enabled":false}}},"display":{"type":"object","default":{"orderConfirmation":"","orderAdmin":"","orderMyAccount":"","orderEmail":""}},"className":{"type":"string","default":""},"conditionalLogic":{"type":"object","default":{"enabled":false,"visible":[],"required":[]}},"pricingSettings":{"type":"object","default":{"enabled":false,"optionsPricing":{}}}},"textdomain":"checkout-fields-for-blocks","style":"file:./style-index.css"}');(0,a.registerCheckoutBlock)({metadata:R,component:e=>{const{conditionalLogic:t,validationSettings:o,label:a,fieldName:i,metaName:l,checkoutExtensionData:r}=e,{setExtensionData:s}=r;return(0,h.jsx)(x,{conditionalLogic:t,validationSettingsRaw:o,fieldName:a||i||"Select",setExtensionData:s,metaName:l,children:(0,h.jsx)(N,{...e})})}})})();