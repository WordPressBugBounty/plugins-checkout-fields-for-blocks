(()=>{"use strict";var e={20:(e,t,a)=>{var o=a(609),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,n=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var o,r={},c=null,d=null;for(o in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,o)&&!s.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:i,type:e,key:c,ref:d,props:r,_owner:n.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},609:e=>{e.exports=window.React},848:(e,t,a)=>{e.exports=a(20)}},t={};const a=window.wc.blocksCheckout,o=window.wp.i18n,i=window.wp.element,r=window.wp.data,l=window.wc.wcBlocksData,n=window.wc.blocksComponents;function s(e){var t,a,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(a=s(e[t]))&&(o&&(o+=" "),o+=a)}else for(a in e)e[a]&&(o&&(o+=" "),o+=a);return o}const c=function(){for(var e,t,a=0,o="",i=arguments.length;a<i;a++)(e=arguments[a])&&(t=s(e))&&(o&&(o+=" "),o+=t);return o};var d=function a(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}(848);const u=e=>{const{className:t="",disabled:a=!1,onChange:o,onBlur:i,onFocus:r,placeholder:l,value:n=""}=e;return(0,d.jsx)("textarea",{className:c("wc-block-components-textarea",t),disabled:a,onChange:e=>{o(e.target.value)},onBlur:e=>i&&i(e.target.value),onFocus:e=>r&&r(e.target.value),placeholder:l,rows:2,value:n})},f=window.wp.hooks,p=(0,i.createContext)({validationSettings:{},isRequired:!1,hasRequiredLogic:!1,isVisible:!0}),h=({children:e})=>(0,d.jsx)(d.Fragment,{children:e}),m=()=>({isVisible:!0,isRequired:!1,hasRequiredLogic:!1}),g=({conditionalLogic:e,validationSettingsRaw:t,children:a,fieldName:o,setExtensionData:r,metaName:l})=>{const n=(0,f.applyFilters)("checkoutFields.hooks.useConditionalLogic",m),s=(0,i.useMemo)(()=>{try{return JSON.parse(t||"{}")}catch(e){return console.warn("Invalid validation settings:",t),{}}},[t]),c=(e=>(0,i.useMemo)(()=>{if(!e)return null;if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.warn("Failed to parse conditional logic:",e),null}return e},[e]))(e),{isVisible:u,isRequired:h,hasRequiredLogic:g}=n(c,o),b=(0,i.useMemo)(()=>({validationSettings:s,isRequired:h,hasRequiredLogic:g,isVisible:u}),[s,h,g,u]);return(0,i.useEffect)(()=>{u||r("checkout-fields-for-blocks",l,"")},[u,r,l]),u?(0,d.jsx)(p.Provider,{value:b,children:a}):null};function b({conditionalLogic:e,validationSettingsRaw:t,children:a,fieldName:o,setExtensionData:i,metaName:r}){const l=(0,f.applyFilters)("checkoutFields.components.logicContextProvider",h);return(0,d.jsx)(l,{children:(0,d.jsx)(g,{conditionalLogic:e,validationSettingsRaw:t,fieldName:o,setExtensionData:i,metaName:r,children:a})})}const k=window.wp.url,v={required:{validate:e=>e&&""!==e.trim()?null:(0,o.__)("This field is required.","checkout-fields-for-blocks")},email:{validate:e=>(0,k.isEmail)(e)?null:(0,o.__)("Please enter a valid email address.","checkout-fields-for-blocks")},phone:{validate:e=>e&&!/^\+?[\d\s()-]{10,}$/.test(e)?(0,o.__)("Please enter a valid phone number.","checkout-fields-for-blocks"):null},url:{validate:e=>{try{return new URL(e),null}catch{return(0,o.__)("Please enter a valid URL.","checkout-fields-for-blocks")}}},minLength:{validate:(e,t)=>e.length>0&&e.length<t.value?(0,o.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,o.__)("This field must be at least %d characters long.","checkout-fields-for-blocks"),t.value):null},maxLength:{validate:(e,t)=>e.length>0&&e.length>t.value?(0,o.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,o.__)("This field must not exceed %d characters.","checkout-fields-for-blocks"),t.value):null},pattern:{validate:(e,t)=>new RegExp(t.value).test(e)?null:(0,o.__)("This field does not match the required pattern.","checkout-fields-for-blocks")}},w=({fieldId:e,fieldName:t,metaName:a,label:o,placeholder:s,className:f,defaultValue:h,helpText:m,checkoutExtensionData:g})=>{const{setExtensionData:b}=g,[k,w]=(0,i.useState)(h||""),{validateField:x,validationErrorId:y,isRequired:E}=((e,t)=>{const{validationSettings:a,isRequired:o,hasRequiredLogic:n,isVisible:s}=(0,i.useContext)(p),[c,d]=(0,i.useState)(!1),{setValidationErrors:u,clearValidationError:f}=(0,r.useDispatch)(l.VALIDATION_STORE_KEY),h=`${t}-${e}`;return{validateField:(0,i.useCallback)((e,t=!1)=>{const i={...a};n&&(i.required={enabled:o});const r=((e,t)=>{for(const[a,o]of Object.entries(t))if(o.enabled&&v[a]){const t=v[a].validate(e,o);if(t)return t}return null})(e,i);return r?(u({[h]:{message:r,hidden:!t}}),!1):(f(h),!0)},[a,o,n,h,f,u]),handleUserInteraction:(0,i.useCallback)(()=>{c||d(!0)},[c]),validationErrorId:h,isRequired:o,isVisible:s}})(e,a),{validationError:_,validationErrorId:N}=(0,r.useSelect)(e=>{const t=e(l.VALIDATION_STORE_KEY);return{validationError:t.getValidationError(y),validationErrorId:t.getValidationErrorId(y)}},[y]),R=!(!_?.message||_?.hidden),L=(0,i.useCallback)(e=>{w(e),x(e)},[x]),S=(0,i.useCallback)(()=>{x(k,!0)},[x,k]);(0,i.useEffect)(()=>{b("checkout-fields-for-blocks",a,k)},[b,a,k]),(0,i.useEffect)(()=>{x(k,!1)},[x,k]);const j=(0,i.useMemo)(()=>({"aria-required":E,...E&&{required:!0}}),[E]);return(0,d.jsxs)("div",{className:c(f,{"has-error":R}),children:[(0,d.jsx)(n.Label,{label:o,screenReaderLabel:o,wrapperElement:"label",wrapperProps:{htmlFor:e},htmlFor:e}),(0,d.jsx)(u,{id:e,value:k||"",placeholder:s,name:t,onChange:L,onBlur:S,"aria-invalid":R,"aria-errormessage":R?N:void 0,...j,"data-field-name":a}),m&&(0,d.jsx)("p",{className:"help-text",children:m}),(0,d.jsx)(n.ValidationInputError,{propertyName:y,elementId:y})]})},x=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"checkout-fields-for-blocks/textarea","version":"0.1.0","title":"Textarea","description":"","category":"checkout-fields-for-blocks","example":{},"supports":{"html":true},"keywords":["checkout"],"parent":["woocommerce/checkout-totals-block","woocommerce/checkout-fields-block","woocommerce/checkout-contact-information-block","woocommerce/checkout-shipping-address-block","woocommerce/checkout-billing-address-block","woocommerce/checkout-shipping-method-block","woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block"],"attributes":{"fieldId":{"type":"string","default":""},"fieldName":{"type":"string","default":""},"metaName":{"type":"string","default":""},"isMetaNameLocked":{"type":"boolean","default":false},"parentBlock":{"type":"string","default":""},"label":{"type":"string","default":""},"placeholder":{"type":"string","default":""},"defaultValue":{"type":"string","default":""},"helpText":{"type":"string","default":""},"inputType":{"type":"string","default":"text"},"className":{"type":"string","default":""},"validationSettings":{"type":"object","default":{"required":{"enabled":false},"minLength":{"enabled":false,"value":""},"maxLength":{"enabled":false,"value":""},"pattern":{"enabled":false,"value":""}}},"display":{"type":"object","default":{"orderConfirmation":"","orderAdmin":"","orderMyAccount":"","orderEmail":""}},"conditionalLogic":{"type":"object","default":{"enabled":false,"visible":[],"required":[]}},"pricingSettings":{"type":"object","default":{"enabled":false,"pricing":{"calculationMethod":"","priceValue":"","taxClass":""}}}},"textdomain":"checkout-fields-for-blocks","style":"file:./style-index.css"}');(0,a.registerCheckoutBlock)({metadata:x,component:e=>(e=>{const{conditionalLogic:t,validationSettings:a,label:o,fieldName:i,metaName:r,checkoutExtensionData:l}=e,{setExtensionData:n}=l;return(0,d.jsx)(b,{conditionalLogic:t,validationSettingsRaw:a,fieldName:o||i||"Textarea",setExtensionData:n,metaName:r,children:(0,d.jsx)(w,{...e})})})({...e,inputType:x.attributes?.inputType?.default})})})();